Script started on Thu Aug 18 20:28:45 2022
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004h[7mkubectl -n linkerd rollout status deploy/flagger[27m[48D[27mk[27mu[27mb[27me[27mc[27mt[27ml[27m [27m-[27mn[27m [27ml[27mi[27mn[27mk[27me[27mr[27md[27m [27mr[27mo[27ml[27ml[27mo[27mu[27mt[27m [27ms[27mt[27ma[27mt[27mu[27ms[27m [27md[27me[27mp[27ml[27mo[27my[27m/[27mf[27ml[27ma[27mg[27mg[27me[27mr[?2004l

deployment "flagger" successfully rolled out
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hkkubecyl  tl create ns test && kubectl apply =-f    -f [7mhttps://run.linkerd.io/flagger.yml[27m[34D[27mh[27mt[27mt[27mp[27ms[27m:[27m/[27m/[27mr[27mu[27mn[27m.[27ml[27mi[27mn[27mk[27me[27mr[27md[27m.[27mi[27mo[27m/[27mf[27ml[27ma[27mg[27mg[27me[27mr[27m.[27my[27mm[27ml[?2004l

namespace/test created
deployment.apps/load created
configmap/frontend created
deployment.apps/frontend created
service/frontend created
deployment.apps/podinfo created
service/podinfo created
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hkkubectl -n test rollout statu s deploy podinfo[?2004l

deployment "podinfo" successfully rolled out
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hkkubectl -n test port-forward 8080    svc/frontend 8080[?2004l

Forwarding from 127.0.0.1:8080 -> 8080
Forwarding from [::1]:8080 -> 8080
Handling connection for 8080
Handling connection for 8080
^C[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hsscrcpy[?2004l

scrcpy 1.24 <https://github.com/Genymobile/scrcpy>

[100%] /data/local/tmp/scrcpy-server.jar[K
/opt/homebrew/Cellar/scrcpy/1.24/share/scrcpy/scrcpy-server: 1 file pushed, 0 skipped. 63.5 MB/s (41159 bytes in 0.001s)[K
[server] INFO: Device: LENOVO Lenovo P2a42 (Android 7.0)
2022-08-19 05:01:43.912 scrcpy[6406:93832] INFO: Renderer: metal
2022-08-19 05:01:43.927 scrcpy[6406:93832] INFO: Initial texture: 1920x1080
2022-08-19 05:01:51.105 scrcpy[6406:93832] INFO: New texture: 1080x1920
2022-08-19 07:21:08.934 scrcpy[6406:93832] WARN: Device disconnected
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004h[7mcat <<EOF | kubectl apply -f -[27m

[7mapiVersion: flagger.app/v1beta1[27m[K

[7mkind: Canary[27m[K

[7mmetadata:[27m[K

[7m  name: podinfo[27m[K

[7m  namespace: test[27m[K

[7mspec:[27m[K

[7m  targetRef:[27m[K

[7m    apiVersion: apps/v1[27m[K

[7m    kind: Deployment[27m[K

[7m    name: podinfo[27m[K

[7m  service:[27m[K

[7m    port: 9898[27m[K

[7m  analysis:[27m[K

[7m    interval: 10s[27m[K

[7m    threshold: 5[27m[K

[7m    stepWeight: 10[27m[K

[7m    maxWeight: 100[27m[K

[7m    metrics:[27m[K

[7m    - name: request-success-rate[27m[K

[7m      thresholdRange:[27m[K

[7m        min: 99[27m[K

[7m      interval: 1m[27m[K

[7m    - name: request-duration[27m[K

[7m      thresholdRange:[27m[K

[7m        max: 500[27m[K

[7m      interval: 1m[27m[K

[7mEOF[27m[K[27A[6C[27mc[27ma[27mt[27m [27m<[27m<[27mE[27mO[27mF[27m [27m|[27m [27mk[27mu[27mb[27me[27mc[27mt[27ml[27m [27ma[27mp[27mp[27ml[27my[27m [27m-[27mf[27m [27m-[1B
[27ma[27mp[27mi[27mV[27me[27mr[27ms[27mi[27mo[27mn[27m:[27m [27mf[27ml[27ma[27mg[27mg[27me[27mr[27m.[27ma[27mp[27mp[27m/[27mv[27m1[27mb[27me[27mt[27ma[27m1[1B
[27mk[27mi[27mn[27md[27m:[27m [27mC[27ma[27mn[27ma[27mr[27my[1B
[27mm[27me[27mt[27ma[27md[27ma[27mt[27ma[27m:[1B
[27m [27m [27mn[27ma[27mm[27me[27m:[27m [27mp[27mo[27md[27mi[27mn[27mf[27mo[1B
[27m [27m [27mn[27ma[27mm[27me[27ms[27mp[27ma[27mc[27me[27m:[27m [27mt[27me[27ms[27mt[1B
[27ms[27mp[27me[27mc[27m:[1B
[27m [27m [27mt[27ma[27mr[27mg[27me[27mt[27mR[27me[27mf[27m:[1B
[27m [27m [27m [27m [27ma[27mp[27mi[27mV[27me[27mr[27ms[27mi[27mo[27mn[27m:[27m [27ma[27mp[27mp[27ms[27m/[27mv[27m1[1B
[27m [27m [27m [27m [27mk[27mi[27mn[27md[27m:[27m [27mD[27me[27mp[27ml[27mo[27my[27mm[27me[27mn[27mt[1B
[27m [27m [27m [27m [27mn[27ma[27mm[27me[27m:[27m [27mp[27mo[27md[27mi[27mn[27mf[27mo[1B
[27m [27m [27ms[27me[27mr[27mv[27mi[27mc[27me[27m:[1B
[27m [27m [27m [27m [27mp[27mo[27mr[27mt[27m:[27m [27m9[27m8[27m9[27m8[1B
[27m [27m [27ma[27mn[27ma[27ml[27my[27ms[27mi[27ms[27m:[1B
[27m [27m [27m [27m [27mi[27mn[27mt[27me[27mr[27mv[27ma[27ml[27m:[27m [27m1[27m0[27ms[1B
[27m [27m [27m [27m [27mt[27mh[27mr[27me[27ms[27mh[27mo[27ml[27md[27m:[27m [27m5[1B
[27m [27m [27m [27m [27ms[27mt[27me[27mp[27mW[27me[27mi[27mg[27mh[27mt[27m:[27m [27m1[27m0[1B
[27m [27m [27m [27m [27mm[27ma[27mx[27mW[27me[27mi[27mg[27mh[27mt[27m:[27m [27m1[27m0[27m0[1B
[27m [27m [27m [27m [27mm[27me[27mt[27mr[27mi[27mc[27ms[27m:[1B
[27m [27m [27m [27m [27m-[27m [27mn[27ma[27mm[27me[27m:[27m [27mr[27me[27mq[27mu[27me[27ms[27mt[27m-[27ms[27mu[27mc[27mc[27me[27ms[27ms[27m-[27mr[27ma[27mt[27me[1B
[27m [27m [27m [27m [27m [27m [27mt[27mh[27mr[27me[27ms[27mh[27mo[27ml[27md[27mR[27ma[27mn[27mg[27me[27m:[1B
[27m [27m [27m [27m [27m [27m [27m [27m [27mm[27mi[27mn[27m:[27m [27m9[27m9[1B
[27m [27m [27m [27m [27m [27m [27mi[27mn[27mt[27me[27mr[27mv[27ma[27ml[27m:[27m [27m1[27mm[1B
[27m [27m [27m [27m [27m-[27m [27mn[27ma[27mm[27me[27m:[27m [27mr[27me[27mq[27mu[27me[27ms[27mt[27m-[27md[27mu[27mr[27ma[27mt[27mi[27mo[27mn[1B
[27m [27m [27m [27m [27m [27m [27mt[27mh[27mr[27me[27ms[27mh[27mo[27ml[27md[27mR[27ma[27mn[27mg[27me[27m:[1B
[27m [27m [27m [27m [27m [27m [27m [27m [27mm[27ma[27mx[27m:[27m [27m5[27m0[27m0[1B
[27m [27m [27m [27m [27m [27m [27mi[27mn[27mt[27me[27mr[27mv[27ma[27ml[27m:[27m [27m1[27mm[1B
[27mE[27mO[27mF[?2004l

canary.flagger.app/podinfo created
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004h[7mkubectl -n test get ev --watch[27m[30D[27mk[27mu[27mb[27me[27mc[27mt[27ml[27m [27m-[27mn[27m [27mt[27me[27ms[27mt[27m [27mg[27me[27mt[27m [27me[27mv[27m [27m-[27m-[27mw[27ma[27mt[27mc[27mh[?2004l

LAST SEEN   TYPE      REASON                  OBJECT                                 MESSAGE
7s          Normal    Synced                  canary/podinfo                         all the metrics providers are available!
7s          Warning   Synced                  canary/podinfo                         podinfo-primary.test not ready: waiting for rollout to finish: observed deployment generation less than desired generation
7s          Normal    ScalingReplicaSet       deployment/podinfo-primary             Scaled up replica set podinfo-primary-8f988dd6d to 1
7s          Normal    Injected                deployment/podinfo-primary             Linkerd sidecar proxy injected
7s          Normal    SuccessfulCreate        replicaset/podinfo-primary-8f988dd6d   Created pod: podinfo-primary-8f988dd6d-7dbnn
7s          Normal    Scheduled               pod/podinfo-primary-8f988dd6d-7dbnn    Successfully assigned test/podinfo-primary-8f988dd6d-7dbnn to k3d-k3s-default-server-0
5s          Normal    Pulled                  pod/podinfo-primary-8f988dd6d-7dbnn    Container image "cr.l5d.io/linkerd/proxy-init:v1.5.3" already present on machine
5s          Normal    Created                 pod/podinfo-primary-8f988dd6d-7dbnn    Created container linkerd-init
5s          Normal    Started                 pod/podinfo-primary-8f988dd6d-7dbnn    Started container linkerd-init
4s          Normal    Pulled                  pod/podinfo-primary-8f988dd6d-7dbnn    Container image "cr.l5d.io/linkerd/proxy:stable-2.11.4" already present on machine
4s          Normal    Created                 pod/podinfo-primary-8f988dd6d-7dbnn    Created container linkerd-proxy
4s          Normal    Started                 pod/podinfo-primary-8f988dd6d-7dbnn    Started container linkerd-proxy
4s          Normal    IssuedLeafCertificate   serviceaccount/default                 issued certificate for default.test.serviceaccount.identity.linkerd.cluster.local until 2022-08-20 06:27:34 +0000 UTC: a14d5d01f142ebc21f96af05730af3a0
4s          Normal    Pulled                  pod/podinfo-primary-8f988dd6d-7dbnn    Container image "quay.io/stefanprodan/podinfo:1.7.0" already present on machine
4s          Normal    Created                 pod/podinfo-primary-8f988dd6d-7dbnn    Created container podinfod
4s          Normal    Started                 pod/podinfo-primary-8f988dd6d-7dbnn    Started container podinfod
0s          Normal    Synced                  canary/podinfo                         all the metrics providers are available!
0s          Normal    ScalingReplicaSet       deployment/podinfo                     Scaled down replica set podinfo-7db9b7744c to 0
0s          Normal    SuccessfulDelete        replicaset/podinfo-7db9b7744c          Deleted pod: podinfo-7db9b7744c-kn7c9
0s          Normal    Killing                 pod/podinfo-7db9b7744c-kn7c9           Stopping container linkerd-proxy
0s          Normal    Killing                 pod/podinfo-7db9b7744c-kn7c9           Stopping container podinfod
0s          Normal    Created                 trafficsplit/podinfo                   Created Service Profile podinfo.test.svc.cluster.local
0s          Normal    Synced                  canary/podinfo                         Initialization done! podinfo.test
^C[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hkkubectl get pods[?2004l

NAME                                READY   STATUS             RESTARTS         AGE
database-0                          1/1     Running            0                11h
database-1                          1/1     Running            0                11h
my-nats-box-68588f68c5-grts2        1/1     Running            0                11h
my-nats-0                           3/3     Running            0                11h
todo-api-6f4b64579b-2n6fx           2/2     Running            0                11h
todo-api-6f4b64579b-5gzw4           2/2     Running            0                11h
todo-ui-557d59bfdd-m9hww            2/2     Running            0                11h
todo-broadcaster-65b6df585d-45s4m   1/2     CrashLoopBackOff   79 (2m41s ago)   11h
todo-broadcaster-65b6df585d-rwrgn   1/2     CrashLoopBackOff   80 (2m35s ago)   11h
todo-broadcaster-65b6df585d-q87hp   1/2     CrashLoopBackOff   80 (2m24s ago)   11h
todo-broadcaster-65b6df585d-vjdkb   1/2     CrashLoopBackOff   80 (2m14s ago)   11h
todo-broadcaster-65b6df585d-4csk5   1/2     CrashLoopBackOff   81 (2m7s ago)    11h
todo-broadcaster-65b6df585d-t4h8b   1/2     CrashLoopBackOff   79 (2m ago)      11h
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hkubectl get pods -n             ns[?2004l

[?25l[?1049h[?1000h[31A[G[K
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              
[1B
[;m                                                                                                                                                                              

[;m                                                                                                                                                                              
[;1;38;5;110m>[m[;m [m[;1m[m[;1m[m[1A
[;m                                                                                                                                                                              
[;1;38;5;148mâ ¹[m
[2C[;38;5;144m0/0[m[1B
[2C
[2C[?25h[?25l[1A
[;m                                                                                                                                                                              
[;1;38;5;148mâ ¸[m
[2C[;38;5;144m0/0[m[1B
[2C[?25h[?25l[1A
[;m                                                                                                                                                                              

[2C[;38;5;144m0/9[m[1B
[2C[?25h[?25l[1A
[;m                                                                                                                                                                              

[2C[;38;5;144m9/9[m[9A
[;48;5;236m [m[;m [;mtest[m[1B
[;48;5;236m [m[;m [;mlinkerd-smi[m[1B
[;48;5;236m [m[;m [;mlinkerd-viz[m[1B
[;48;5;236m [m[;m [;mlinkerd[m[1B
[;48;5;236m [m[;m [;m[m[;33;40mproject[m[1B
[;48;5;236m [m[;m [;mkube-node-lease[m[1B
[;48;5;236m [m[;m [;mkube-public[m[1B
[;48;5;236m [m[;m [;mkube-system[m[1B
[;1;38;5;161;48;5;236m>[m[;48;5;236m [m[;1;38;5;254;48;5;236mdefault[m[2B
[2C[?25h[?25l[1A
[;m                                                                                                                                                                              

[2C[;38;5;144m9/9[m[1B
[2C[?25h[?25l[3A
[;1;38;5;161;48;5;236m>[m[;48;5;236m [m[;1;38;5;254;48;5;236mkube-system[m[1B
[;48;5;236m [m[;m [;mdefault[m[2B
[2C[?25h[?25l[4A
[;1;38;5;161;48;5;236m>[m[;48;5;236m [m[;1;38;5;254;48;5;236mkube-public[m[1B
[;48;5;236m [m[;m [;mkube-system[m[3B
[2C[?25h[?25l[5A
[;1;38;5;161;48;5;236m>[m[;48;5;236m [m[;1;38;5;254;48;5;236mkube-node-lease[m[1B
[;48;5;236m [m[;m [;mkube-public[m[4B
[2C[?25h[?25l[6A
[;1;38;5;161;48;5;236m>[m[;48;5;236m [m[;1;38;5;254;48;5;236m[m[;1;33;40mproject[m[1B
[;48;5;236m [m[;m [;mkube-node-lease[m[5B
[2C[?25h[?25l[7A
[;1;38;5;161;48;5;236m>[m[;48;5;236m [m[;1;38;5;254;48;5;236mlinkerd[m[1B
[;48;5;236m [m[;m [;m[m[;33;40mproject[m[6B
[2C[?25h[?25l[8A
[;1;38;5;161;48;5;236m>[m[;48;5;236m [m[;1;38;5;254;48;5;236mlinkerd-viz[m[1B
[;48;5;236m [m[;m [;mlinkerd[m[7B
[2C[?25h[?25l[9A
[;1;38;5;161;48;5;236m>[m[;48;5;236m [m[;1;38;5;254;48;5;236mlinkerd-smi[m[1B
[;48;5;236m [m[;m [;mlinkerd-viz[m[8B
[2C[?25h[?25l[10A
[;1;38;5;161;48;5;236m>[m[;48;5;236m [m[;1;38;5;254;48;5;236mtest[m[1B
[;48;5;236m [m[;m [;mlinkerd-smi[m[9B
[2C[?25h[?25l
[2C[?25h[?25l
[2C[?25h[?25l
[2C[?25h[?25l[?1049l[?1000l[?25hContext "k3d-k3s-default" modified.
Active namespace is "test".
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hkubensctl get pods[?2004l

NAME                              READY   STATUS    RESTARTS   AGE
load-768757778c-gwvsg             2/2     Running   0          10h
frontend-95b98cf55-ms8gj          2/2     Running   0          10h
podinfo-primary-8f988dd6d-7dbnn   2/2     Running   0          72s
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hkkubectl get svc[?2004l

NAME              TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE
frontend          ClusterIP   10.43.130.77    <none>        8080/TCP   10h
podinfo-canary    ClusterIP   10.43.217.55    <none>        9898/TCP   92s
podinfo-primary   ClusterIP   10.43.111.131   <none>        9898/TCP   92s
podinfo           ClusterIP   10.43.127.254   <none>        9898/TCP   10h
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004h[7mkubectl -n test set image deployment/podinfo \[27m

[7m  podinfod=quay.io/stefanprodan/podinfo:1.7.1[27m[K[A[36D[27mk[27mu[27mb[27me[27mc[27mt[27ml[27m [27m-[27mn[27m [27mt[27me[27ms[27mt[27m [27ms[27me[27mt[27m [27mi[27mm[27ma[27mg[27me[27m [27md[27me[27mp[27ml[27mo[27my[27mm[27me[27mn[27mt[27m/[27mp[27mo[27md[27mi[27mn[27mf[27mo[27m [27m\[1B
[27m [27m [27mp[27mo[27md[27mi[27mn[27mf[27mo[27md[27m=[27mq[27mu[27ma[27my[27m.[27mi[27mo[27m/[27ms[27mt[27me[27mf[27ma[27mn[27mp[27mr[27mo[27md[27ma[27mn[27m/[27mp[27mo[27md[27mi[27mn[27mf[27mo[27m:[27m1[27m.[27m7[27m.[27m1[?2004l

deployment.apps/podinfo image updated
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hkubectl -n test set image deployment/podinfo \

  podinfod=quay.io/stefanprodan/podinfo:1.7.1[K[A[36D[8Cget svc                               [1B
[K[A[24Cpods[12Dns          [10Dctl get pods[8D-n test get ev --watch[?2004l[1B
LAST SEEN   TYPE      REASON                  OBJECT                                 MESSAGE
3m11s       Warning   Synced                  canary/podinfo                         podinfo-primary.test not ready: waiting for rollout to finish: observed deployment generation less than desired generation
3m11s       Normal    ScalingReplicaSet       deployment/podinfo-primary             Scaled up replica set podinfo-primary-8f988dd6d to 1
3m11s       Normal    Injected                deployment/podinfo-primary             Linkerd sidecar proxy injected
3m11s       Normal    SuccessfulCreate        replicaset/podinfo-primary-8f988dd6d   Created pod: podinfo-primary-8f988dd6d-7dbnn
3m11s       Normal    Scheduled               pod/podinfo-primary-8f988dd6d-7dbnn    Successfully assigned test/podinfo-primary-8f988dd6d-7dbnn to k3d-k3s-default-server-0
3m9s        Normal    Pulled                  pod/podinfo-primary-8f988dd6d-7dbnn    Container image "cr.l5d.io/linkerd/proxy-init:v1.5.3" already present on machine
3m9s        Normal    Created                 pod/podinfo-primary-8f988dd6d-7dbnn    Created container linkerd-init
3m9s        Normal    Started                 pod/podinfo-primary-8f988dd6d-7dbnn    Started container linkerd-init
3m8s        Normal    Pulled                  pod/podinfo-primary-8f988dd6d-7dbnn    Container image "cr.l5d.io/linkerd/proxy:stable-2.11.4" already present on machine
3m8s        Normal    Created                 pod/podinfo-primary-8f988dd6d-7dbnn    Created container linkerd-proxy
3m8s        Normal    Started                 pod/podinfo-primary-8f988dd6d-7dbnn    Started container linkerd-proxy
3m8s        Normal    IssuedLeafCertificate   serviceaccount/default                 issued certificate for default.test.serviceaccount.identity.linkerd.cluster.local until 2022-08-20 06:27:34 +0000 UTC: a14d5d01f142ebc21f96af05730af3a0
3m8s        Normal    Pulled                  pod/podinfo-primary-8f988dd6d-7dbnn    Container image "quay.io/stefanprodan/podinfo:1.7.0" already present on machine
3m8s        Normal    Created                 pod/podinfo-primary-8f988dd6d-7dbnn    Created container podinfod
3m8s        Normal    Started                 pod/podinfo-primary-8f988dd6d-7dbnn    Started container podinfod
3m1s        Normal    Synced                  canary/podinfo                         all the metrics providers are available!
3m1s        Normal    ScalingReplicaSet       deployment/podinfo                     Scaled down replica set podinfo-7db9b7744c to 0
3m1s        Normal    SuccessfulDelete        replicaset/podinfo-7db9b7744c          Deleted pod: podinfo-7db9b7744c-kn7c9
3m1s        Normal    Killing                 pod/podinfo-7db9b7744c-kn7c9           Stopping container linkerd-proxy
3m1s        Normal    Killing                 pod/podinfo-7db9b7744c-kn7c9           Stopping container podinfod
3m1s        Normal    Created                 trafficsplit/podinfo                   Created Service Profile podinfo.test.svc.cluster.local
3m1s        Normal    Synced                  canary/podinfo                         Initialization done! podinfo.test
1s          Normal    Synced                  canary/podinfo                         New revision detected! Scaling up podinfo.test
1s          Normal    ScalingReplicaSet       deployment/podinfo                     Scaled up replica set podinfo-5696d5d46d to 1
1s          Normal    Injected                deployment/podinfo                     Linkerd sidecar proxy injected
1s          Normal    SuccessfulCreate        replicaset/podinfo-5696d5d46d          Created pod: podinfo-5696d5d46d-tc4qm
1s          Normal    Scheduled               pod/podinfo-5696d5d46d-tc4qm           Successfully assigned test/podinfo-5696d5d46d-tc4qm to k3d-k3s-default-server-0
1s          Normal    Pulled                  pod/podinfo-5696d5d46d-tc4qm           Container image "cr.l5d.io/linkerd/proxy-init:v1.5.3" already present on machine
1s          Normal    Created                 pod/podinfo-5696d5d46d-tc4qm           Created container linkerd-init
1s          Normal    Started                 pod/podinfo-5696d5d46d-tc4qm           Started container linkerd-init
1s          Normal    Pulled                  pod/podinfo-5696d5d46d-tc4qm           Container image "cr.l5d.io/linkerd/proxy:stable-2.11.4" already present on machine
1s          Normal    Created                 pod/podinfo-5696d5d46d-tc4qm           Created container linkerd-proxy
1s          Normal    Started                 pod/podinfo-5696d5d46d-tc4qm           Started container linkerd-proxy
1s          Normal    IssuedLeafCertificate   serviceaccount/default                 issued certificate for default.test.serviceaccount.identity.linkerd.cluster.local until 2022-08-20 06:30:41 +0000 UTC: e0ebae176e67ded598474d1e721a7c71
1s          Normal    Pulling                 pod/podinfo-5696d5d46d-tc4qm           Pulling image "quay.io/stefanprodan/podinfo:1.7.1"
0s          Normal    Pulled                  pod/podinfo-5696d5d46d-tc4qm           Successfully pulled image "quay.io/stefanprodan/podinfo:1.7.1" in 3.679049168s
0s          Normal    Created                 pod/podinfo-5696d5d46d-tc4qm           Created container podinfod
0s          Normal    Started                 pod/podinfo-5696d5d46d-tc4qm           Started container podinfod
0s          Normal    Synced                  canary/podinfo                         Starting canary analysis for podinfo.test
0s          Normal    Synced                  canary/podinfo                         Advance podinfo.test canary weight 10
0s          Normal    Updated                 trafficsplit/podinfo                   Updated Service Profile podinfo.test.svc.cluster.local
0s          Normal    Synced                  canary/podinfo                         Advance podinfo.test canary weight 20
0s          Normal    Updated                 trafficsplit/podinfo                   Updated Service Profile podinfo.test.svc.cluster.local
0s          Normal    Synced                  canary/podinfo                         Advance podinfo.test canary weight 30
0s          Normal    Updated                 trafficsplit/podinfo                   Updated Service Profile podinfo.test.svc.cluster.local
0s          Normal    Updated                 trafficsplit/podinfo                   Updated Service Profile podinfo.test.svc.cluster.local
0s          Normal    Synced                  canary/podinfo                         Advance podinfo.test canary weight 40
0s          Normal    Updated                 trafficsplit/podinfo                   Updated Service Profile podinfo.test.svc.cluster.local
0s          Normal    Synced                  canary/podinfo                         Advance podinfo.test canary weight 50
0s          Normal    Updated                 trafficsplit/podinfo                   Updated Service Profile podinfo.test.svc.cluster.local
0s          Normal    Synced                  canary/podinfo                         (combined from similar events): Advance podinfo.test canary weight 60
0s          Normal    Updated                 trafficsplit/podinfo                   Updated Service Profile podinfo.test.svc.cluster.local
^C[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hkubectl -n test get ev --watch[?2004l

LAST SEEN   TYPE      REASON                  OBJECT                                 MESSAGE
4m18s       Warning   Synced                  canary/podinfo                         podinfo-primary.test not ready: waiting for rollout to finish: observed deployment generation less than desired generation
4m18s       Normal    ScalingReplicaSet       deployment/podinfo-primary             Scaled up replica set podinfo-primary-8f988dd6d to 1
4m18s       Normal    Injected                deployment/podinfo-primary             Linkerd sidecar proxy injected
4m18s       Normal    SuccessfulCreate        replicaset/podinfo-primary-8f988dd6d   Created pod: podinfo-primary-8f988dd6d-7dbnn
4m18s       Normal    Scheduled               pod/podinfo-primary-8f988dd6d-7dbnn    Successfully assigned test/podinfo-primary-8f988dd6d-7dbnn to k3d-k3s-default-server-0
4m16s       Normal    Pulled                  pod/podinfo-primary-8f988dd6d-7dbnn    Container image "cr.l5d.io/linkerd/proxy-init:v1.5.3" already present on machine
4m16s       Normal    Created                 pod/podinfo-primary-8f988dd6d-7dbnn    Created container linkerd-init
4m16s       Normal    Started                 pod/podinfo-primary-8f988dd6d-7dbnn    Started container linkerd-init
4m15s       Normal    Pulled                  pod/podinfo-primary-8f988dd6d-7dbnn    Container image "cr.l5d.io/linkerd/proxy:stable-2.11.4" already present on machine
4m15s       Normal    Created                 pod/podinfo-primary-8f988dd6d-7dbnn    Created container linkerd-proxy
4m15s       Normal    Started                 pod/podinfo-primary-8f988dd6d-7dbnn    Started container linkerd-proxy
4m15s       Normal    IssuedLeafCertificate   serviceaccount/default                 issued certificate for default.test.serviceaccount.identity.linkerd.cluster.local until 2022-08-20 06:27:34 +0000 UTC: a14d5d01f142ebc21f96af05730af3a0
4m15s       Normal    Pulled                  pod/podinfo-primary-8f988dd6d-7dbnn    Container image "quay.io/stefanprodan/podinfo:1.7.0" already present on machine
4m15s       Normal    Created                 pod/podinfo-primary-8f988dd6d-7dbnn    Created container podinfod
4m15s       Normal    Started                 pod/podinfo-primary-8f988dd6d-7dbnn    Started container podinfod
4m8s        Normal    Synced                  canary/podinfo                         all the metrics providers are available!
4m8s        Normal    ScalingReplicaSet       deployment/podinfo                     Scaled down replica set podinfo-7db9b7744c to 0
4m8s        Normal    SuccessfulDelete        replicaset/podinfo-7db9b7744c          Deleted pod: podinfo-7db9b7744c-kn7c9
4m8s        Normal    Killing                 pod/podinfo-7db9b7744c-kn7c9           Stopping container linkerd-proxy
4m8s        Normal    Killing                 pod/podinfo-7db9b7744c-kn7c9           Stopping container podinfod
4m8s        Normal    Created                 trafficsplit/podinfo                   Created Service Profile podinfo.test.svc.cluster.local
4m8s        Normal    Synced                  canary/podinfo                         Initialization done! podinfo.test
68s         Normal    Synced                  canary/podinfo                         New revision detected! Scaling up podinfo.test
68s         Normal    ScalingReplicaSet       deployment/podinfo                     Scaled up replica set podinfo-5696d5d46d to 1
68s         Normal    Injected                deployment/podinfo                     Linkerd sidecar proxy injected
68s         Normal    SuccessfulCreate        replicaset/podinfo-5696d5d46d          Created pod: podinfo-5696d5d46d-tc4qm
68s         Normal    Scheduled               pod/podinfo-5696d5d46d-tc4qm           Successfully assigned test/podinfo-5696d5d46d-tc4qm to k3d-k3s-default-server-0
68s         Normal    Pulled                  pod/podinfo-5696d5d46d-tc4qm           Container image "cr.l5d.io/linkerd/proxy-init:v1.5.3" already present on machine
68s         Normal    Created                 pod/podinfo-5696d5d46d-tc4qm           Created container linkerd-init
68s         Normal    Started                 pod/podinfo-5696d5d46d-tc4qm           Started container linkerd-init
68s         Normal    Pulled                  pod/podinfo-5696d5d46d-tc4qm           Container image "cr.l5d.io/linkerd/proxy:stable-2.11.4" already present on machine
68s         Normal    Created                 pod/podinfo-5696d5d46d-tc4qm           Created container linkerd-proxy
68s         Normal    Started                 pod/podinfo-5696d5d46d-tc4qm           Started container linkerd-proxy
68s         Normal    IssuedLeafCertificate   serviceaccount/default                 issued certificate for default.test.serviceaccount.identity.linkerd.cluster.local until 2022-08-20 06:30:41 +0000 UTC: e0ebae176e67ded598474d1e721a7c71
68s         Normal    Pulling                 pod/podinfo-5696d5d46d-tc4qm           Pulling image "quay.io/stefanprodan/podinfo:1.7.1"
64s         Normal    Pulled                  pod/podinfo-5696d5d46d-tc4qm           Successfully pulled image "quay.io/stefanprodan/podinfo:1.7.1" in 3.679049168s
64s         Normal    Created                 pod/podinfo-5696d5d46d-tc4qm           Created container podinfod
64s         Normal    Started                 pod/podinfo-5696d5d46d-tc4qm           Started container podinfod
58s         Normal    Synced                  canary/podinfo                         Starting canary analysis for podinfo.test
58s         Normal    Synced                  canary/podinfo                         Advance podinfo.test canary weight 10
48s         Normal    Synced                  canary/podinfo                         Advance podinfo.test canary weight 20
38s         Normal    Synced                  canary/podinfo                         Advance podinfo.test canary weight 30
28s         Normal    Synced                  canary/podinfo                         Advance podinfo.test canary weight 40
18s         Normal    Synced                  canary/podinfo                         Advance podinfo.test canary weight 50
8s          Normal    Synced                  canary/podinfo                         (combined from similar events): Advance podinfo.test canary weight 60
8s          Normal    Updated                 trafficsplit/podinfo                   Updated Service Profile podinfo.test.svc.cluster.local
0s          Normal    Synced                  canary/podinfo                         (combined from similar events): Advance podinfo.test canary weight 70
0s          Normal    Updated                 trafficsplit/podinfo                   Updated Service Profile podinfo.test.svc.cluster.local
^[[A^C[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004h[7m^[[27m[200~watch kubectl -n test get canary~[?2004l

zsh: bad pattern: ^[[200~watch
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004h[7mwatch kubectl -n test get canary[27m[32D[27mw[27ma[27mt[27mc[27mh[27m [27mk[27mu[27mb[27me[27mc[27mt[27ml[27m [27m-[27mn[27m [27mt[27me[27ms[27mt[27m [27mg[27me[27mt[27m [27mc[27ma[27mn[27ma[27mr[27my[?2004l

zsh: command not found: watch
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hwatch kubectl -n test get canary[1C[P[27C [28D[P[27C [28D[P[27C [28Dw[P[27C [28D[P[27C [28D[?2004l

NAME      STATUS        WEIGHT   LASTTRANSITIONTIME
podinfo   Progressing   70       2022-08-19T06:31:31Z
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004h kubectl -n test get canary --watch[?2004l

NAME      STATUS        WEIGHT   LASTTRANSITIONTIME
podinfo   Progressing   80       2022-08-19T06:31:41Z
podinfo   Progressing   90       2022-08-19T06:31:51Z
^C[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004h[7mkubectl -n test get trafficsplit podinfo -o yaml[27m[48D[27mk[27mu[27mb[27me[27mc[27mt[27ml[27m [27m-[27mn[27m [27mt[27me[27ms[27mt[27m [27mg[27me[27mt[27m [27mt[27mr[27ma[27mf[27mf[27mi[27mc[27ms[27mp[27ml[27mi[27mt[27m [27mp[27mo[27md[27mi[27mn[27mf[27mo[27m [27m-[27mo[27m [27my[27ma[27mm[27ml[?2004l

apiVersion: split.smi-spec.io/v1alpha2
kind: TrafficSplit
metadata:
  creationTimestamp: "2022-08-19T06:27:21Z"
  generation: 10
  name: podinfo
  namespace: test
  ownerReferences:
  - apiVersion: flagger.app/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Canary
    name: podinfo
    uid: e4918c83-7426-4e8c-b10c-e32105b62c78
  resourceVersion: "9611"
  uid: 0ab1e17a-4af6-47e0-b5c9-444d34627b98
spec:
  backends:
  - service: podinfo-canary
    weight: "90"
  - service: podinfo-primary
    weight: "10"
  service: podinfo
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hkubectl -n test get trafficsplit podinfo -o yaml[?2004l

apiVersion: split.smi-spec.io/v1alpha2
kind: TrafficSplit
metadata:
  creationTimestamp: "2022-08-19T06:27:21Z"
  generation: 11
  name: podinfo
  namespace: test
  ownerReferences:
  - apiVersion: flagger.app/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: Canary
    name: podinfo
    uid: e4918c83-7426-4e8c-b10c-e32105b62c78
  resourceVersion: "9618"
  uid: 0ab1e17a-4af6-47e0-b5c9-444d34627b98
spec:
  backends:
  - service: podinfo-canary
    weight: "100"
  - service: podinfo-primary
    weight: "0"
  service: podinfo
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004h[7mlinkerd viz -n test stat deploy --from deploy/load[27m[50D[27ml[27mi[27mn[27mk[27me[27mr[27md[27m [27mv[27mi[27mz[27m [27m-[27mn[27m [27mt[27me[27ms[27mt[27m [27ms[27mt[27ma[27mt[27m [27md[27me[27mp[27ml[27mo[27my[27m [27m-[27m-[27mf[27mr[27mo[27mm[27m [27md[27me[27mp[27ml[27mo[27my[27m/[27ml[27mo[27ma[27md[?2004l

NAME              MESHED   SUCCESS      RPS   LATENCY_P50   LATENCY_P95   LATENCY_P99   TCP_CONN
podinfo              1/1   100.00%   8.8rps           1ms           1ms           1ms          0
podinfo-primary      1/1   100.00%   0.4rps           0ms           0ms           0ms          1
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hllinkerd viz sad   dah shboard[?2004l

Error running port-forward: unable to listen on any of the requested ports: [{50750 8084}] for linkerd-viz/web-86bfb48c8c-ddsgn
Check for `linkerd dashboard` running in other terminal sessions, or use the `--port` flag.
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hlinkerd viz dashboard[9D-n test stat deploy --from deploy/load[50Dkubectl[4P[9Cget trafficsplit podinfo -o yaml  [48D kubectl -n test get canary --watch             [13D       [8D[27Dwatch kubectl -n test get canary[32D[7m^[7m[[27m[200~watch kubectl -n test get canary~[40D[13P[20Cev --watch          [10D[14Ds[3Cimage deployment/podinfo \

  podinfod=quay.io/stefanprodan/podinfo:1.7.1[K[A[36D[1B
[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C[1C 0[?2004l

deployment.apps/podinfo image updated
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004h

bck-i-search: _[K[Akubectl -n test set image deployment/podinfo \[1B
  podinfod=quay.io/stefanprodan/[4mp[24modinfo:1.7.0

bck-i-search: p_[K[A[16C[4mp[4mo[24m[1B[19Do_[A[15C[A[23Dcat <<EOF | kubectl apply -f -                [1B
apiVersion: flagger.app/v1beta1 [24m [24m            [1B
kind: Canary     

metadata:[K

  name: podinfo[K

  namespace: test[K

spec:[K

  targetRef:[K

    apiVersion: apps/v1[K

    kind: Deployment[K

    name: podinfo[K

  service:[K

    [4mpor[24mt: 9898[K

  analysis:[K

    interval: 10s[K

    threshold: 5[K

    stepWeight: 10[K

    maxWeight: 100[K

    metrics:[K

    - name: request-success-rate[K

      thresholdRange:[K

        min: 99[K

      interval: 1m[K

    - name: request-duration[K

      thresholdRange:[K

        max: 500[K

      interval: 1m[K

EOF[K

bck-i-search: por_[K[16A[14D[2C[4mr[4mt[24m[16B[9Ct_[16A[15D[12A[5Ckubectl -n test [4mp[4mo[4mr[4mt[4m-[24mforward svc/frontend 8080[1B
bck-i-search: port-_           [1B
[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[1B[K[28A[25C[24mp[24mo[24mr[24mt[24m-[1B
[K[A[25C[?2004l[1B
Forwarding from 127.0.0.1:8080 -> 8080
Forwarding from [::1]:8080 -> 8080
Handling connection for 8080
^C[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hkubectl -n test port-forward svc/frontend 8080 &[?2004l

[1] 7835
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hForwarding from 127.0.0.1:8080 -> 8080
Forwarding from [::1]:8080 -> 8080
Handling connection for 8080
[?2004l

[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hHandling connection for 8080
[7mcurl http://localhost:8080[27m[26D[27mc[27mu[27mr[27ml[27m [27mh[27mt[27mt[27mp[27m:[27m/[27m/[27ml[27mo[27mc[27ma[27ml[27mh[27mo[27ms[27mt[27m:[27m8[27m0[27m8[27m                       c  [?2004l

[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004h[7mcurl http://localhost:8080[27m[26D[27mc[27mu[27mr[27ml[27m [27mh[27mt[27mt[27mp[27m:[27m/[27m/[27ml[27mo[27mc[27ma[27ml[27mh[27mo[27ms[27mt[27m:[27m8[27m0[27m8[27m0[?2004l

Handling connection for 8080
{
  "hostname": "podinfo-7db9b7744c-zv76j",
  "version": "1.7.0",
  "revision": "4fc593f42c7cd2e7319c83f6bfd3743c05523883",
  "color": "blue",
  "message": "greetings from podinfo v1.7.0",
  "goos": "linux",
  "goarch": "amd64",
  "runtime": "go1.11.2",
  "num_goroutine": "7",
  "num_cpu": "4"
}[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hcurl http://localhost:8080[?2004l

Handling connection for 8080
{
  "hostname": "podinfo-primary-56cb984b49-fqblc",
  "version": "1.7.1",
  "revision": "c9dc78f29c5087e7c181e58a56667a75072e6196",
  "color": "blue",
  "message": "greetings from podinfo v1.7.1",
  "goos": "linux",
  "goarch": "amd64",
  "runtime": "go1.11.12",
  "num_goroutine": "7",
  "num_cpu": "4"
}[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hcurl http://localhost:8080[?2004l

Handling connection for 8080
{
  "hostname": "podinfo-primary-56cb984b49-fqblc",
  "version": "1.7.1",
  "revision": "c9dc78f29c5087e7c181e58a56667a75072e6196",
  "color": "blue",
  "message": "greetings from podinfo v1.7.1",
  "goos": "linux",
  "goarch": "amd64",
  "runtime": "go1.11.12",
  "num_goroutine": "7",
  "num_cpu": "4"
}[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hcurl http://localhost:8080[?2004l

Handling connection for 8080
{
  "hostname": "podinfo-primary-56cb984b49-fqblc",
  "version": "1.7.1",
  "revision": "c9dc78f29c5087e7c181e58a56667a75072e6196",
  "color": "blue",
  "message": "greetings from podinfo v1.7.1",
  "goos": "linux",
  "goarch": "amd64",
  "runtime": "go1.11.12",
  "num_goroutine": "7",
  "num_cpu": "4"
}[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hcurl http://localhost:8080[?2004l

Handling connection for 8080
{
  "hostname": "podinfo-primary-56cb984b49-fqblc",
  "version": "1.7.1",
  "revision": "c9dc78f29c5087e7c181e58a56667a75072e6196",
  "color": "blue",
  "message": "greetings from podinfo v1.7.1",
  "goos": "linux",
  "goarch": "amd64",
  "runtime": "go1.11.12",
  "num_goroutine": "7",
  "num_cpu": "4"
}[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hcurl http://localhost:8080[?2004l

Handling connection for 8080
{
  "hostname": "podinfo-primary-56cb984b49-fqblc",
  "version": "1.7.1",
  "revision": "c9dc78f29c5087e7c181e58a56667a75072e6196",
  "color": "blue",
  "message": "greetings from podinfo v1.7.1",
  "goos": "linux",
  "goarch": "amd64",
  "runtime": "go1.11.12",
  "num_goroutine": "7",
  "num_cpu": "4"
}[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hcurl http://localhost:8080[?2004l

Handling connection for 8080
{
  "hostname": "podinfo-primary-56cb984b49-fqblc",
  "version": "1.7.1",
  "revision": "c9dc78f29c5087e7c181e58a56667a75072e6196",
  "color": "blue",
  "message": "greetings from podinfo v1.7.1",
  "goos": "linux",
  "goarch": "amd64",
  "runtime": "go1.11.12",
  "num_goroutine": "7",
  "num_cpu": "4"
}[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hcurl http://localhost:8080[?2004l

Handling connection for 8080
{
  "hostname": "podinfo-primary-56cb984b49-fqblc",
  "version": "1.7.1",
  "revision": "c9dc78f29c5087e7c181e58a56667a75072e6196",
  "color": "blue",
  "message": "greetings from podinfo v1.7.1",
  "goos": "linux",
  "goarch": "amd64",
  "runtime": "go1.11.12",
  "num_goroutine": "7",
  "num_cpu": "4"
}[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hcurl http://localhost:8080[?2004l

Handling connection for 8080
{
  "hostname": "podinfo-primary-56cb984b49-fqblc",
  "version": "1.7.1",
  "revision": "c9dc78f29c5087e7c181e58a56667a75072e6196",
  "color": "blue",
  "message": "greetings from podinfo v1.7.1",
  "goos": "linux",
  "goarch": "amd64",
  "runtime": "go1.11.12",
  "num_goroutine": "7",
  "num_cpu": "4"
}[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004hcurl http://localhost:8080[?2004l

Handling connection for 8080
{
  "hostname": "podinfo-7db9b7744c-zv76j",
  "version": "1.7.0",
  "revision": "4fc593f42c7cd2e7319c83f6bfd3743c05523883",
  "color": "blue",
  "message": "greetings from podinfo v1.7.0",
  "goos": "linux",
  "goarch": "amd64",
  "runtime": "go1.11.2",
  "num_goroutine": "7",
  "num_cpu": "4"
}[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004h[7mkubectl delete -k github.com/fluxcd/flagger/kustomize/linkerd && \[27m

[7m  kubectl delete ns test[27m[K[A[15D[27mk[27mu[27mb[27me[27mc[27mt[27ml[27m [27md[27me[27ml[27me[27mt[27me[27m [27m-[27mk[27m [27mg[27mi[27mt[27mh[27mu[27mb[27m.[27mc[27mo[27mm[27m/[27mf[27ml[27mu[27mx[27mc[27md[27m/[27mf[27ml[27ma[27mg[27mg[27me[27mr[27m/[27mk[27mu[27ms[27mt[27mo[27mm[27mi[27mz[27me[27m/[27ml[27mi[27mn[27mk[27me[27mr[27md[27m [27m&[27m&[27m [27m\[1B
[27m [27m [27mk[27mu[27mb[27me[27mc[27mt[27ml[27m [27md[27me[27ml[27me[27mt[27me[27m [27mn[27ms[27m [27mt[27me[27ms[27mt[?2004l

customresourcedefinition.apiextensions.k8s.io "alertproviders.flagger.app" deleted
customresourcedefinition.apiextensions.k8s.io "canaries.flagger.app" deleted
customresourcedefinition.apiextensions.k8s.io "metrictemplates.flagger.app" deleted
serviceaccount "flagger" deleted
clusterrole.rbac.authorization.k8s.io "flagger" deleted
clusterrolebinding.rbac.authorization.k8s.io "flagger" deleted
deployment.apps "flagger" deleted
namespace "test" deleted
Handling connection for 8080
E0819 07:35:33.920168    7835 portforward.go:406] an error occurred forwarding 8080 -> 8080: error forwarding port 8080 to pod dba9cae5eb224984bd9b40b9d7decefc3beddefbbbae4c4955c6689943d5c4d3, uid : network namespace for sandbox "dba9cae5eb224984bd9b40b9d7decefc3beddefbbbae4c4955c6689943d5c4d3" is closed
E0819 07:35:33.921393    7835 portforward.go:234] lost connection to pod
Handling connection for 8080
E0819 07:35:33.921976    7835 portforward.go:346] error creating error stream for port 8080 -> 8080: EOF
[1]  + done       kubectl -n test port-forward svc/frontend 8080
^C
[1m[7m%[27m[1m[0m                                                                                                                                                                             
 
]7;file://Dawids-MBP.cust.communityfibre.co.uk/Users/dawidl022/Learning/mooc-fi-kubernetes/todo
[0m[27m[24m[J[38;5;243mdawidl022[39m:[38;5;183m~/Learning/mooc-fi-kubernetes/todo
[93m(main) [39m$[39m [K[?2004h[?2004l


Saving session...
...copying shared history...
...saving history...truncating history files...
...completed.

Script done on Fri Aug 19 07:36:05 2022
